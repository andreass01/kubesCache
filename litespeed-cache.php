<?php defined('WPINC')||exit;if(defined('LSCWP_V')){return;}!defined('LSCWP_V')&&define('LSCWP_V','5.3');!defined('LSCWP_CONTENT_DIR')&&define('LSCWP_CONTENT_DIR',WP_CONTENT_DIR);!defined('LSCWP_DIR')&&define('LSCWP_DIR',__DIR__.'/');!defined('LSCWP_BASENAME')&&define('LSCWP_BASENAME','litespeed-cache/litespeed-cache.php');$WP_CONTENT_URL=WP_CONTENT_URL;$home_url=home_url('/');if(substr($WP_CONTENT_URL,0,5)=='http:'&&substr($home_url,0,5)=='https')$WP_CONTENT_URL=str_replace('http://','https://',$WP_CONTENT_URL);!defined('LSCWP_CONTENT_FOLDER')&&define('LSCWP_CONTENT_FOLDER',str_replace($home_url,'',$WP_CONTENT_URL));!defined('LSWCP_PLUGIN_URL')&&define('LSWCP_PLUGIN_URL',plugin_dir_url(__FILE__));!defined('LITESPEED_STATIC_URL')&&define('LITESPEED_STATIC_URL',$WP_CONTENT_URL.'/litespeed');!defined('LITESPEED_STATIC_DIR')&&define('LITESPEED_STATIC_DIR',LSCWP_CONTENT_DIR.'/litespeed');!defined('LITESPEED_TIME_OFFSET')&&define('LITESPEED_TIME_OFFSET',get_option('gmt_offset')*60*60);!defined('LITESPEED_PLACEHOLDER')&&define('LITESPEED_PLACEHOLDER','data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=');require_once LSCWP_DIR.'autoload.php';if((defined('WP_CLI')&&WP_CLI)||PHP_SAPI=='cli'){!defined('LITESPEED_CLI')&&define('LITESPEED_CLI',true);if(method_exists('WP_CLI','add_command')){WP_CLI::add_command('litespeed-option','LiteSpeed\CLI\Option');WP_CLI::add_command('litespeed-purge','LiteSpeed\CLI\Purge');WP_CLI::add_command('litespeed-online','LiteSpeed\CLI\Online');WP_CLI::add_command('litespeed-image','LiteSpeed\CLI\Image');WP_CLI::add_command('litespeed-debug','LiteSpeed\CLI\Debug');}}if(!defined('LITESPEED_SERVER_TYPE')){if(isset($_SERVER['HTTP_X_LSCACHE'])&&$_SERVER['HTTP_X_LSCACHE']){define('LITESPEED_SERVER_TYPE','LITESPEED_SERVER_ADC');}elseif(isset($_SERVER['LSWS_EDITION'])&&strpos($_SERVER['LSWS_EDITION'],'Openlitespeed')===0){define('LITESPEED_SERVER_TYPE','LITESPEED_SERVER_OLS');}elseif(isset($_SERVER['SERVER_SOFTWARE'])&&$_SERVER['SERVER_SOFTWARE']=='LiteSpeed'){define('LITESPEED_SERVER_TYPE','LITESPEED_SERVER_ENT');}else{define('LITESPEED_SERVER_TYPE','NONE');}}if(!empty($_SERVER['X-LSCACHE'])||LITESPEED_SERVER_TYPE==='LITESPEED_SERVER_ADC'||defined('LITESPEED_CLI')){!defined('LITESPEED_ALLOWED')&&define('LITESPEED_ALLOWED',true);}if(!defined('LSWCP_ESI_SUPPORT')){define('LSWCP_ESI_SUPPORT',LITESPEED_SERVER_TYPE!=='LITESPEED_SERVER_OLS'?true:false);}if(!defined('LSWCP_TAG_PREFIX')){define('LSWCP_TAG_PREFIX',substr(md5(LSCWP_DIR),-3));}if(!function_exists('litespeed_exception_handler')){function litespeed_exception_handler($errno,$errstr,$errfile,$errline){throw new \ErrorException($errstr,0,$errno,$errfile,$errline);}}if(!function_exists('litespeed_define_nonce_func')){function litespeed_define_nonce_func(){function wp_create_nonce($action=-1){if(!defined('LITESPEED_DISABLE_ALL')){$control=\LiteSpeed\ESI::cls()->is_nonce_action($action);if($control!==null){$params=array('action'=>$action,);return \LiteSpeed\ESI::cls()->sub_esi_block('nonce','wp_create_nonce '.$action,$params,$control,true,true,true);}}return wp_create_nonce_litespeed_esi($action);}function wp_create_nonce_litespeed_esi($action=-1){$uid=get_current_user_id();if(!$uid){$uid=apply_filters('nonce_user_logged_out',$uid,$action);}$token=wp_get_session_token();$i=wp_nonce_tick();return substr(wp_hash($i.'|'.$action.'|'.$uid.'|'.$token,'nonce'),-12,10);}}}if(!function_exists('run_litespeed_cache')){function run_litespeed_cache(){if(version_compare(PHP_VERSION,'5.3.0','<')){return;}if(version_compare($GLOBALS['wp_version'],'4.0','<')){return;}\LiteSpeed\Core::cls();}run_litespeed_cache();}
